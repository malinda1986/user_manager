(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{YVtV:function(e,a,t){"use strict";t.r(a);var r=t("p0pE"),n=t.n(r),s=t("d6i3"),c=t.n(s),u=t("GIZZ"),i=t.n(u),o=t("7Qib"),p=t("3eXy"),l={reducers:{updateState:function(e,a){var t=a.payload;return n()({},e,t)}}},d=i()(l,{state:{list:[],pagination:{showSizeChanger:!0,showQuickJumper:!0,current:1,total:0,pageSize:10}},reducers:{querySuccess:function(e,a){var t=a.payload,r=t.list,s=t.pagination;return n()({},e,{list:r,pagination:n()({},e.pagination,s)})}}}),f=(p["a"].queryUserList,p["a"].createUser,p["a"].removeUser,p["a"].updateUser,p["a"].removeUserList),w=p["a"].userList,y=p["a"].userCreates,h=p["a"].deleteUsers,x=p["a"].updateUsers,m=p["a"].uploadImage;a["default"]=i()(d,{namespace:"user",state:{currentItem:{},modalVisible:!1,modalType:"create",selectedRowKeys:[],file:"",showCofirm:!1},subscriptions:{setup:function(e){var a=e.dispatch,t=e.history;t.listen(function(e){if(Object(o["f"])("/user",e.pathname)){var t=e.query||{page:1,pageSize:10};a({type:"query",payload:t})}})}},effects:{query:c.a.mark(function e(a,t){var r,n,s,u,i;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=void 0===r?{}:r,s=t.call,u=t.put,e.next=4,s(w,n);case 4:if(i=e.sent,!i){e.next=8;break}return e.next=8,u({type:"querySuccess",payload:{list:i.response,pagination:{current:Number(n.page)||1,pageSize:Number(n.pageSize)||1e3,total:i.total}}});case 8:case"end":return e.stop()}},e)}),delete:c.a.mark(function e(a,t){var r,n,s,u;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=t.call,s=t.put,t.select,e.next=4,n(h,{id:r});case 4:if(u=e.sent,!u.success){e.next=10;break}return e.next=8,s({type:"updateState",payload:{}});case 8:e.next=11;break;case 10:throw u;case 11:case"end":return e.stop()}},e)}),multiDelete:c.a.mark(function e(a,t){var r,n,s,u;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=t.call,s=t.put,e.next=4,n(f,r);case 4:if(u=e.sent,!u.success){e.next=10;break}return e.next=8,s({type:"updateState",payload:{selectedRowKeys:[]}});case 8:e.next=11;break;case 10:throw u;case 11:case"end":return e.stop()}},e)}),create:c.a.mark(function e(a,t){var r,n,s,u;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=t.call,s=t.put,e.next=4,n(y,r);case 4:if(u=e.sent,!u.success){e.next=10;break}return e.next=8,s({type:"hideModal"});case 8:e.next=11;break;case 10:throw u;case 11:case"end":return e.stop()}},e)}),upload:c.a.mark(function e(a,t){var r,n,s,u;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=t.call,s=t.put,e.next=4,n(m,r);case 4:if(u=e.sent,console.log(u),!u.success){e.next=11;break}return e.next=9,s({type:"setImage",payload:{file:u.response.imageInfo.fileName}});case 9:e.next=12;break;case 11:throw u;case 12:case"end":return e.stop()}},e)}),update:c.a.mark(function e(a,t){var r,n,s,u;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,t.select,n=t.call,s=t.put,e.next=4,n(x,r);case 4:if(u=e.sent,!u.success){e.next=10;break}return e.next=8,s({type:"hideModal"});case 8:e.next=11;break;case 10:throw u;case 11:case"end":return e.stop()}},e)})},reducers:{showModal:function(e,a){var t=a.payload;return n()({},e,t,{modalVisible:!0})},hideModal:function(e){return n()({},e,{modalVisible:!1})},setImage:function(e,a){var t=a.payload;return n()({},e,t)},showCofirm:function(e,a){var t=a.payload;return n()({},e,t)}}})}}]);